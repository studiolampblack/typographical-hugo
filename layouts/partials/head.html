<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		{{- if .IsHome }}
			<meta name="description" content="{{ .Site.Params.Description }}">
		{{- else if .Description }}
			<meta name="description" content="{{ .Description }}">
		{{- end }}

		<title>{{- if .IsHome }}{{ .Site.Title }}{{- else }}{{ .Title }} &middot; {{ .Site.Title }}{{- end }}</title>

		<!-- CSS -->
		{{- $inServerMode	:= .Site.IsServer }}
		{{- $cssTarget		:= "css/style.css" }}
		{{- $cssOptions		:= cond ($inServerMode) (dict "targetPath" $cssTarget "enableSourceMap" true) (dict "targetPath" $cssTarget "outputStyle" "compressed") }}
		{{- $style			:= resources.Get "scss/typographical.scss" | toCSS $cssOptions }}
		
		<link rel="preload" as="style" href="/css/fonts.css">
		<link rel="preload" href="/fonts/Alegreya-Regular.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/fonts/AlegreyaSans-ExtraBold.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" as="style" href="{{ $style.RelPermalink }}">

		<link rel="stylesheet" href="/css/fonts.css">
		<link rel="stylesheet" href="{{ $style.RelPermalink }}">

		{{ range .Site.Params.css -}}
			<link rel="stylesheet" href="{{ . | relURL }}">
		{{ end -}}

		<!-- Hyphenopoly -->
		{{ if .Site.Params.enableTypographicalHyphenation }}
			<script>
				var Hyphenopoly = {
					require: {
						"en-gb": "Supercalifragilisticexpialidocious"
					},
					setup: {
						selectors: {
							"body": {}
						}
					}
				};
			</script>
			<script async src="/js/Hyphenopoly_Loader.js"></script>
		{{ end }}
		
		<!-- Social -->
		<meta property="og:type" content="website">
		<meta property="og:url" content="{{ .Permalink }}">
		<meta name="twitter:url" content="{{ .Permalink }}">
		<meta property="og:title" content="{{ .Title }}">
		<meta name="twitter:title" content="{{ .Title }}">
		{{- if isset .Params "image" -}}
			<meta property="og:image" content="{{ .Params.image }}">
			<meta name="twitter:image" content="{{ .Params.image }}">
		{{- end -}}
		{{- if .IsHome }}
			<meta property="og:description" content="{{ .Site.Params.Description }}">
			<meta name="twitter:description" content="{{ .Site.Params.Description }}">
		{{- else if .Description }}
			<meta property="og:description" content="{{ .Description }}">
			<meta name="twitter:description" content="{{ .Description }}">
		{{- else if .Summary }}
			<meta property="og:description" content="{{ .Summary }}">
			<meta name="twitter:card" content="{{ .Summary }}">
		{{- end }}
		<meta property="og:site_name" content="{{ .Site.Title }}">
		<meta property="og:locale" content="{{ .Site.LanguageCode | default "en" }}">
		{{ if isset .Site.Params "twitter" }}
			<meta name="twitter:site" content="@{{ .Site.Params.twitter }}">
		{{ else if isset .Site.Author "twitter" }}
			<meta name="twitter:site" content="@{{ .Site.Author.twitter }}">
		{{ end }}

		<!-- Favicon -->
		<link rel="icon" type="image/png" sizes="32x32" href="{{ "images/favicon-32x32.png" | relURL }}">
		<link rel="icon" type="image/png" sizes="16x16" href="{{ "images/favicon-16x16.png" | relURL }}">
		<link rel="apple-touch-icon" sizes="180x180" href="{{ "images/apple-touch-icon.png" | relURL }}">

		<!-- RSS -->
		<link href="{{ with .OutputFormats.Get "RSS" }}{{ .RelPermalink }}{{ end }}" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}" />

		<!-- Google Analytics -->
		{{ if not (in (.Site.BaseURL | string) "localhost") }}
			{{ template "_internal/google_analytics_async.html" . }}
		{{ end }}
	</head>
